# Configuración avanzada de GRUB para ReactOS Rust OS
# Opciones de depuración y configuración del sistema

set timeout=30
set default=0

# Configuración de video para modo avanzado
set gfxmode=800x600
set gfxpayload=keep

# Entrada para modo de depuración completo
menuentry "ReactOS Rust OS (Full Debug)" {
    set gfxpayload=text
    insmod part_gpt
    insmod part_msdos
    insmod fat
    insmod ext2
    insmod multiboot2
    
    search --no-floppy --fs-uuid --set=root
    multiboot2 /boot/reactos-rust-kernel.bin debug=2 loglevel=7 earlyprintk=vga
    
    echo "Cargando ReactOS Rust OS con depuración completa..."
}

# Entrada para modo de desarrollo
menuentry "ReactOS Rust OS (Development Mode)" {
    set gfxpayload=text
    insmod part_gpt
    insmod part_msdos
    insmod fat
    insmod ext2
    insmod multiboot2
    
    search --no-floppy --fs-uuid --set=root
    multiboot2 /boot/reactos-rust-kernel.bin dev=1 test=1
    
    echo "Cargando ReactOS Rust OS en modo desarrollo..."
}

# Entrada para pruebas de memoria
menuentry "ReactOS Rust OS (Memory Test)" {
    set gfxpayload=text
    insmod part_gpt
    insmod part_msdos
    insmod fat
    insmod ext2
    insmod multiboot2
    
    search --no-floppy --fs-uuid --set=root
    multiboot2 /boot/reactos-rust-kernel.bin memtest=1
    
    echo "Cargando ReactOS Rust OS para pruebas de memoria..."
}

# Entrada para modo de red
menuentry "ReactOS Rust OS (Network Boot)" {
    set gfxpayload=text
    insmod efinet
    insmod tftp
    insmod multiboot2
    
    echo "Configurando arranque por red..."
    # Aquí se puede agregar configuración PXE/TFTP
}

# Entrada para configuración de hardware específico
menuentry "ReactOS Rust OS (Custom Hardware)" {
    set gfxpayload=text
    insmod part_gpt
    insmod part_msdos
    insmod fat
    insmod ext2
    insmod multiboot2
    
    search --no-floppy --fs-uuid --set=root
    multiboot2 /boot/reactos-rust-kernel.bin custom_hw=1
    
    echo "Cargando ReactOS Rust OS con configuración de hardware personalizada..."
}

# Entrada para volver al menú principal
menuentry "Return to Main Menu" {
    configfile /boot/grub/grub.cfg
}

# Entrada para configuración de GRUB
menuentry "GRUB Configuration" {
    echo "Editando configuración de GRUB..."
    # Aquí se puede agregar un editor de configuración
}

# Entrada para información del sistema
menuentry "System Information" {
    echo "Información del sistema:"
    echo "  - Firmware: UEFI"
    echo "  - Arquitectura: x86_64"
    echo "  - Kernel: ReactOS Rust"
    echo "  - Versión: 2.0"
    echo ""
    echo "Presiona Enter para continuar..."
    read
    configfile /boot/grub/advanced.cfg
}
